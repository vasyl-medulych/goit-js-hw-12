import{a as g,i as d,S as M}from"./assets/vendor-BHdvj17y.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(e){if(e.ep)return;e.ep=!0;const s=i(e);fetch(e.href,s)}})();let p=1;async function y(t,r){g.defaults.baseURL="https://pixabay.com";const i={key:"51707366-c8695cacd8b805538752cece0",q:`${t}`,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:r};try{const o=await g.get("/api/",{params:i});p=Math.ceil(o.data.totalHits/i.per_page);const e=o.data.hits;return e&&Array.isArray(e)&&e.length>0?e:d.show({title:"❌",message:"Sorry, there are no images matching <br> your search query. Please try again!",color:"red",position:"topRight",messageColor:"white",titleColor:"white"})}catch(o){d.show({title:"Error",message:o.message})}}const l=document.querySelector(".loader"),m=document.querySelector(".gallery"),L=document.querySelector(".load-more");l&&(l.hidden=!0);const b=new M(".gallery-item a",{captionsData:"alt",captionDelay:250});function $(t){const r=q(t);m.insertAdjacentHTML("afterbegin",r),b.refresh()}function A(t){const r=q(t);m.insertAdjacentHTML("beforeend",r),b.refresh()}function C(){m.innerHTML=""}function w(t){l.hidden=!1,t>1&&l.classList.add("load-more-loader")}function v(){l.hidden=!0}function E(t){t<p?R():p&&(f(),d.info({message:"We're sorry, but you've reached the end of search results.",color:"blue",position:"topRight",messageColor:"black"}))}function P(){let r=m.querySelector(".gallery-item").getBoundingClientRect();window.scrollBy({top:r.height*2,left:0,behavior:"smooth"})}function R(){L.classList.add("is-visible")}function f(){L.classList.remove("is-visible")}function B(t){const{webformatURL:r,largeImageURL:i,tags:o,likes:e,views:s,comments:n,downloads:S}=t;return`<li class="gallery-item">
  <a class="gallery-link" href="${i}">
    <img
      class="gallery-image"
      src="${r}"
      alt="${o}"
    />
  </a><div class="stats">
  <p class="img-rates">Likes<span>${e}</span></p>
  <p class="img-rates">Views<span>${s}</span></p>
  <p class="img-rates">Comments<span>${n}</span></p>
  <p class="img-rates">Downloads<span>${S}</span></p></div>
</li>
`}function q(t){return t.map(B).join(`
`)}const c=document.querySelector(".form"),h=c.querySelector(".submit"),O=document.querySelector(".load-more");let a,u;c.addEventListener("input",t=>{u=t.currentTarget.elements["search-text"].value.trim(),u?h.disabled=!1:(h.disabled=!0,d.info({message:"Введіть запит",color:"red",position:"topRight",messageColor:"white",titleColor:"white"}))});c.addEventListener("submit",async t=>{t.preventDefault(),u=t.currentTarget.elements["search-text"].value.trim(),C(),f(),a=1,w(a);try{const r=await y(u,a);$(r)}catch(r){console.error(r)}v(),E(a),c.reset()});O.addEventListener("click",async t=>{a+=1,f(),w(a);try{const r=await y(u,a);A(r)}catch(r){console.error(r)}v(),P(),E(a),c.reset()});
//# sourceMappingURL=index.js.map
