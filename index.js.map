{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst spanEl = document.querySelector('.loader');\nconst ulElem = document.querySelector('.gallery');\nconsole.log(spanEl);\nif (spanEl) {\n  spanEl.hidden = true;\n}\n\nconst gallery = new SimpleLightbox('.gallery-item a', {\n  captionsData: 'alt', // Вказуємо, що підписи братимуться з атрибута 'alt' зображення\n  captionDelay: 250, // Затримка появи підпису\n});\n\nexport function createGallery(images) {\n  const markup = templatesImage(images);\n  ulElem.insertAdjacentHTML('afterbegin', markup);\n\n  gallery.refresh();\n}\n\nexport function clearGallery() {\n  ulElem.innerHTML = ``;\n}\n\nexport function showLoader() {\n  spanEl.hidden = false;\n}\n\nexport function hideLoader() {\n  spanEl.hidden = true;\n}\n\nfunction templateImage(img) {\n  const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = img;\n  return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      alt=\"${tags}\"\n    />\n  </a><div class=\"stats\">\n  <p class=\"img-rates\">Likes<span>${likes}</span></p>\n  <p class=\"img-rates\">Views<span>${views}</span></p>\n  <p class=\"img-rates\">Comments<span>${comments}</span></p>\n  <p class=\"img-rates\">Downloads<span>${downloads}</span></p></div>\n</li>\n`;\n}\n\nfunction templatesImage(imgs) {\n  console.log('imgs = ', imgs);\n  return imgs.map(templateImage).join('\\n');\n}\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { hideLoader } from './render-functions';\n\nexport function getImagesByQuery(query) {\n  axios.defaults.baseURL = 'https://pixabay.com';\n  const params = {\n    key: '51707366-c8695cacd8b805538752cece0',\n    q: `${query}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 21,\n    page: 1,\n  };\n  return axios\n    .get('/api/', { params })\n    .then(res => {\n      const images = res.data.hits;\n      console.log(images);\n      if (images && Array.isArray(images) && images.length > 0) {\n        return images;\n      } else {\n        return iziToast.show({\n          title: '❌',\n          message:\n            'Sorry, there are no images matching <br> your search query. Please try again!',\n          color: 'red',\n          position: 'topRight',\n          messageColor: 'white',\n          titleColor: 'white',\n        });\n      }\n    })\n    .catch(error => {\n      iziToast.show({\n        title: 'Error',\n        message: error.message,\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getImagesByQuery } from './js/pixabay-api';\nimport { clearGallery, createGallery, showLoader } from './js/render-functions';\n\nconst formEl = document.querySelector('.form');\nconst buttonEl = formEl.querySelector('button');\n\nformEl.addEventListener('input', e => {\n  const query = e.currentTarget.elements['search-text'].value.trim();\n  if (!query) {\n    buttonEl.disabled = true;\n  } else {\n    buttonEl.disabled = false;\n  }\n});\n\nformEl.addEventListener('submit', e => {\n  e.preventDefault();\n  const query = e.currentTarget.elements['search-text'].value.trim();\n  if (e.currentTarget.nodeName == 'BUTTON') return;\n  clearGallery();\n  showLoader();\n  getImagesByQuery(query)\n    .then(images => createGallery(images))\n    .catch(error => console.error(error));\n});\n"],"names":["spanEl","ulElem","gallery","SimpleLightbox","createGallery","images","markup","templatesImage","clearGallery","showLoader","hideLoader","templateImage","img","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imgs","getImagesByQuery","query","axios","params","res","iziToast","error","formEl","buttonEl","e"],"mappings":"owBAGA,MAAMA,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAS,SAAS,cAAc,UAAU,EAChD,QAAQ,IAAID,CAAM,EACdA,IACFA,EAAO,OAAS,IAGlB,MAAME,EAAU,IAAIC,EAAe,kBAAmB,CACpD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASC,EAAeF,CAAM,EACpCJ,EAAO,mBAAmB,aAAcK,CAAM,EAE9CJ,EAAQ,QAAO,CACjB,CAEO,SAASM,GAAe,CAC7BP,EAAO,UAAY,EACrB,CAEO,SAASQ,GAAa,CAC3BT,EAAO,OAAS,EAClB,CAEO,SAASU,GAAa,CAC3BV,EAAO,OAAS,EAClB,CAEA,SAASW,EAAcC,EAAK,CAC1B,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,MAAO;AAAA,kCACyBE,CAAa;AAAA;AAAA;AAAA,aAGlCD,CAAY;AAAA,aACZE,CAAI;AAAA;AAAA;AAAA,oCAGmBC,CAAK;AAAA,oCACLC,CAAK;AAAA,uCACFC,CAAQ;AAAA,wCACPC,CAAS;AAAA;AAAA,CAGjD,CAEA,SAASZ,EAAea,EAAM,CAC5B,eAAQ,IAAI,UAAWA,CAAI,EACpBA,EAAK,IAAIT,CAAa,EAAE,KAAK;AAAA,CAAI,CAC1C,CC1DO,SAASU,EAAiBC,EAAO,CACtCC,EAAM,SAAS,QAAU,sBACzB,MAAMC,EAAS,CACb,IAAK,qCACL,EAAG,GAAGF,CAAK,GACX,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACV,KAAM,CACV,EACE,OAAOC,EACJ,IAAI,QAAS,CAAE,OAAAC,EAAQ,EACvB,KAAKC,GAAO,CACX,MAAMpB,EAASoB,EAAI,KAAK,KAExB,OADA,QAAQ,IAAIpB,CAAM,EACdA,GAAU,MAAM,QAAQA,CAAM,GAAKA,EAAO,OAAS,EAC9CA,EAEAqB,EAAS,KAAK,CACnB,MAAO,IACP,QACE,gFACF,MAAO,MACP,SAAU,WACV,aAAc,QACd,WAAY,OACtB,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,CACdD,EAAS,KAAK,CACZ,MAAO,QACP,QAASC,EAAM,OACvB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbjB,GACN,CAAK,CACL,CCvCA,MAAMkB,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAWD,EAAO,cAAc,QAAQ,EAE9CA,EAAO,iBAAiB,QAASE,GAAK,CACtBA,EAAE,cAAc,SAAS,aAAa,EAAE,MAAM,OAI1DD,EAAS,SAAW,GAFpBA,EAAS,SAAW,EAIxB,CAAC,EAEDD,EAAO,iBAAiB,SAAUE,GAAK,CACrCA,EAAE,eAAc,EAChB,MAAMR,EAAQQ,EAAE,cAAc,SAAS,aAAa,EAAE,MAAM,OACxDA,EAAE,cAAc,UAAY,WAChCtB,IACAC,IACAY,EAAiBC,CAAK,EACnB,KAAKjB,GAAUD,EAAcC,CAAM,CAAC,EACpC,MAAMsB,GAAS,QAAQ,MAAMA,CAAK,CAAC,EACxC,CAAC"}